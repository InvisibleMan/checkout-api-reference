type: object
title: CreateRequest
properties:
  reference:
    type: string
    description: "A reference you can later use to identify this sub-entity"
    minLength: 1
    maxLength: 15
    example: superhero1234
  contact_details:
    title: ContactDetails
    allOf:
      - $ref: "#/components/schemas/EntityContactDetails"
      - type: object
        properties:
          phone:
            description: "The phone number of the sub-entity"
            allOf:
              - $ref: "#/components/schemas/EntityPhone"
            required:
              - country_code
              - number
        required:
          - phone
  profile:
    title: Profile
    allOf:
      - $ref: "#/components/schemas/EntityProfile"
    required:
      - urls
      - mccs
  company:
    type: object
    title: Company
    description: The sub-entity company details
    required:
      - business_registration_number
      - legal_name
      - trading_name
      - principal_address
      - registered_address
      - representatives
    properties:
      business_registration_number:
        type: string
        description: "The sub-entity's Business Registration Number such as Commercial Registration, Ministry of Commerce certificate number or equivalent registration number"
        minLength: 2
        maxLength: 16
        example: "452349600005"
      legal_name:
        type: string
        description: "The legal name of the sub-entity"
        minLength: 4
        maxLength: 300
        example: Super Hero Masks Inc.
      trading_name:
        type: string
        description: "The sub-entity's trading name, also referred to as 'doing business as'"
        minLength: 4
        maxLength: 300
        example: Super Hero Masks
      principal_address:
        title: Address
        description: "The company's primary location, where business is performed"
        allOf:
          - $ref: "#/components/schemas/EntityAddress"
        required:
          - address_line1
          - city
          - zip
          - country
      registered_address:
        title: Address
        description: "The registered address of the company"
        allOf:
          - $ref: "#/components/schemas/EntityAddress"
        required:
          - address_line1
          - city
          - zip
          - country
      representatives:
        type: array
        title: Representatives
        description: "Information about representatives of this company"
        minItems: 1
        maxItems: 5
        items:
          allOf:
            - $ref: "#/components/schemas/EntityRepresentative"
            - type: object
              required:
                - first_name
                - last_name
                - address
                - phone
              properties:
                address:
                  required:
                    - country
                phone:
                  required:
                    - country_code
                    - number
required:
  - reference
  - contact_details
  - profile
  - company
