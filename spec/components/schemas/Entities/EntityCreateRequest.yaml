type: object
title: EntityCreateRequest
properties:
  reference:
    type: string
    description: A reference you can later use to identify this sub-entity
    minLength: 1
    maxLength: 15
    example: superhero1234
  contact_details:
    allOf:
      - $ref: '#/components/schemas/EntityContactDetails'
      - type: object
        properties:
          phone:
            description: The phone number of the sub-entity
            allOf:
              - $ref: '#/components/schemas/EntityPhone'
            required:
              - country_code
              - number
        required:
          - phone
  profile:
    allOf:
      - $ref: '#/components/schemas/EntityProfile'
    required:
      - urls
      - mccs
  company:
    allOf:
      - $ref: '#/components/schemas/EntityCompany'
      - type: object
        properties:
          principal_address:
            description: 'The company''s primary location, where business is performed'
            allOf:
              - $ref: '#/components/schemas/EntityAddress'
            required:
              - address_line1
              - city
              - zip
              - country
          registered_address:
            description: The registered address of the company
            allOf:
              - $ref: '#/components/schemas/EntityAddress'
            required:
              - address_line1
              - city
              - zip
              - country
          representatives:
            title: EntityRepresentatives
            description: Information about representatives of this company
            type: array
            items:
              allOf:
                - $ref: '#/components/schemas/EntityRepresentative'
                - type: object
                  properties:
                    address:
                      required:
                        - country
                    phone:
                      required:
                        - country_code
                        - number
              required:
                - first_name
                - last_name
                - address
                - phone
    required:
      - business_registration_number
      - legal_name
      - trading_name
      - principal_address
      - registered_address
      - representatives
required:
  - reference
  - contact_details
  - profile
  - company